var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,l=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&o(e,s,t[s]);if(n)for(var s of n(t))r.call(t,s)&&o(e,s,t[s]);return e},c=(e,n)=>t(e,s(n));import{r as i,t as u,a as d,o as f,b,c as h,d as g,e as m,T as p,w as v,f as w,F as y,g as x,h as k,i as I}from"./vendor.61bb0c1b.js";function O(e,t){const s=i({response:[],error:null,fetching:!1,cache:null});return c(l({},u(s)),{fetchData:async()=>{s.fetching=!0;try{const n=(await async function(e,t){if(localStorage.data){const{countries:e,time:t}=JSON.parse(localStorage.data);if((Date.now()-t)/1e3/60<4320)return e}const s=await fetch(e,t),n=await s.json();return localStorage.data=JSON.stringify({countries:n,time:Date.now()}),n}(e,t)).reduce(((e,t,s)=>(e[s]={name:t.name,flag:t.flag,capital:t.capital,region:t.region,subregion:t.subregion},e)),[]),a=new Map,r=[];for(let e=0;e<10;e++){const[t,s,o,l]=j(n.length,4),c=n[t];if(!c.capital){e--;continue}const i=Math.round(Math.random()),u=0===i?`'${c.capital}' is the capital of`:"Which country does this flag belong to";if(!1===a.has(c.name)){a.set(c.name);const e={question:u,country:c.name,flag:i?c.flag:null,answers:[{name:c.name,correct:!0},{name:n[s].name,correct:!1},{name:n[o].name,correct:!1},{name:n[l].name,correct:!1}]};C(e.answers),r.push(e)}else e--}s.response=r}catch(n){s.error=n}finally{s.fetching=!1}}})}const j=(e,t)=>{if(e<t)throw"length cannot be greater than the numbers to generate";if(1===t)return[Math.floor(Math.random()*e)];const s={};for(;Object.keys(s).length<=t;){const t=Math.floor(Math.random()*e);null==s[t]&&(s[t]=t)}return Object.keys(s)};function C(e){let t,s=e.length;for(;s>0;)t=Q(s),A(e,t,--s)}const Q=e=>Math.floor(Math.random()*e);function A(e,t,s){let n=e[t];return e[t]=e[s],e[s]=n,e}const q={setup(){const e=d(0),t=d(0),s=d(-1),n=d(-1),a=d(0),r=d(!1),o=i({currentQuestionIndex:t,correctAnswerIndex:s,selectedAnswerIndex:n,buttonsDisabled:r,completed:a,score:e}),{submitted:b,list:h,val:g,error:m,fetching:p}=function(){let e=i({list:[],error:null,fetching:!1});const t=d("");return c(l({submitted:async()=>{const{response:t,error:s,fetchData:n,fetching:a}=O("https://restcountries.eu/rest/v2/all",{});n(),e.list=t,e.error=s,e.fetching=a}},u(e)),{val:t})}();return f((()=>{b()})),{totalQuestions:10,optionsChars:{0:"A",1:"B",2:"C",3:"D"},state:o,answerCheck:function(o,l){n.value=l,r.value=!0,o.correct?e.value=e.value+1:a.value=-1;const c=h.value[t.value].answers.findIndex((e=>!0===e.correct));s.value=c},nextQuestion:function(){t.value=t.value+1,s.value=-1,n.value=-1,t.value>=10&&(a.value=1),r.value=!1},showResult:function(){a.value=1},reset:function(){b(),t.value=0,s.value=-1,n.value=-1,a.value=0,r.value=!1,e.value=0},questions:h,val:g,error:m,fetching:p}}},M={class:"center-page h-100 d-flex overflow-hidden"},D={class:"my-card m-auto"},S=g("h1",{class:"display-6 fw-bold text-white mb-3"},"COUNTRY QUIZ",-1),P={class:"card border-radius-lg"},R={class:"card-body"},N=g("img",{src:"/devchallenges-frontend-quiz/assets/untitled.1f3b421a.svg",class:"img-fluid position-absolute banner-image"},null,-1),T={key:0},z=g("div",{class:"d-flex justify-content-center"},[g("div",{class:"spinner-border",role:"status"},[g("span",{class:"visually-hidden"},"Loading...")])],-1),J={key:1,class:"d-flex flex-column gap-3"},U={key:0},Y={class:"h4 text-primary fw-bolder"},$={class:"d-grid gap-4"},B={class:"my-auto ms-2"},E={class:"my-auto"},F={key:0,class:"flex-grow-1 d-flex flex-row-reverse"},L={class:"ms-auto"},W={key:2,style:{height:"250px"},class:"d-flex flex-column"},Z={class:"m-auto"},_=g("h1",{class:"display-3 fw-bolder text-center"},"Results",-1),G={class:"fw-normal text-secondary text-center"},H=k(" You got "),K=k(" correct answers "),V={class:"text-center mt-5"};q.render=function(e,t,s,n,a,r){return b(),h("div",M,[g("div",D,[S,g("div",P,[g("div",R,[N,n.fetching?(b(),h("div",T,[z])):m("",!0),!n.fetching&&n.questions.length>0&&(0===n.state.completed||-1===n.state.completed)?(b(),h("div",J,[g(p,{name:"fade"},{default:v((()=>[null!=n.questions[n.state.currentQuestionIndex].flag?(b(),h("div",U,[g("img",{src:n.questions[n.state.currentQuestionIndex].flag,class:"img-fluid zoom-in shadow",style:{height:"75px"},alt:"Question flag image here"},null,8,["src"])])):m("",!0)])),_:1}),g("h2",Y,w(n.questions[n.state.currentQuestionIndex].question),1),g("div",$,[(b(!0),h(y,null,x(n.questions[n.state.currentQuestionIndex].answers,((e,t)=>(b(),h("button",{key:t,onClick:s=>n.answerCheck(e,t),disabled:n.state.buttonsDisabled,class:`btn ${n.state.correctAnswerIndex===t?"btn-success":n.state.selectedAnswerIndex===t?"btn-danger":"btn-outline-primary"} d-inline-flex gap-4 fw-bold shadow-sm hover-orange border-radius-md p-3`},[g("p",B,w(n.optionsChars[t]),1),g("p",E,w(e.name),1),-1!==n.state.selectedAnswerIndex?(b(),h("span",F,[g("i",{class:"bi "+(n.state.correctAnswerIndex===t?"bi-check-circle":n.state.selectedAnswerIndex===t?"bi-x-circle":"")},null,2)])):m("",!0)],10,["onClick","disabled"])))),128))]),g("div",L,[-1!==n.state.selectedAnswerIndex&&-1!==n.state.completed&&9!==n.state.currentQuestionIndex?(b(),h("button",{key:0,class:"btn btn-warning fw-bold border-radius-md",onClick:t[1]||(t[1]=e=>n.nextQuestion())}," Next ")):m("",!0),-1===n.state.completed?(b(),h("button",{key:1,class:"btn btn-warning fw-bold border-radius-md",onClick:t[2]||(t[2]=e=>n.showResult())}," Result ")):m("",!0)])])):m("",!0),1===n.state.completed?(b(),h("div",W,[g("div",Z,[_,g("p",G,[H,g("span",{class:"fw-bolder fs-3 px-1 "+(n.state.score>0?"text-success":"text-danger")},w(n.state.score),3),K]),g("div",V,[g("button",{class:"\r\n                    shadow-sm\r\n                    btn-lg btn-outline-primary\r\n                    fw-bold\r\n                    fs-6\r\n                    border-radius-md\r\n                  ",onClick:t[3]||(t[3]=e=>n.reset())}," Try Again ")])])])):m("",!0)])])])])};I({setup:e=>(e,t)=>(b(),h(q))}).mount("#app");
