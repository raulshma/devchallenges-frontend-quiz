var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,l=(e,t)=>{for(var s in t||(t={}))n.call(t,s)&&o(e,s,t[s]);if(a)for(var s of a(t))r.call(t,s)&&o(e,s,t[s]);return e},c=(e,a)=>t(e,s(a));import{r as i,t as u,a as d,o as f,b as h,c as b,d as g,e as m,T as p,w as v,f as w,F as y,g as x,h as k,i as I}from"./vendor.61bb0c1b.js";function O(e,t){const s=i({response:[],error:null,fetching:!1,cache:null});return c(l({},u(s)),{fetchData:async()=>{s.fetching=!0;try{const a=(await async function(e,t){if(localStorage.data){const{countries:e,time:t}=JSON.parse(localStorage.data);if((Date.now()-t)/1e3/60<4320)return e}const s=await fetch(e,t),a=await s.json();return localStorage.data=JSON.stringify({countries:a,time:Date.now()}),a}(e,t)).reduce(((e,t,s)=>(e[s]={name:t.name,flag:t.flag,capital:t.capital,region:t.region,subregion:t.subregion},e)),[]),n=new Map,r=[];for(let e=0;e<10;e++){const[t,s,o,l]=j(a.length,4),c=a[t];if(!c.capital){e--;continue}const i=Math.round(Math.random()),u=0===i?`'${c.capital}' is the capital of`:"Which country does this flag belong to";if(!1===n.has(c.name)){n.set(c.name);const e={question:u,country:c.name,flag:i?c.flag:null,answers:[{name:c.name,correct:!0},{name:a[s].name,correct:!1},{name:a[o].name,correct:!1},{name:a[l].name,correct:!1}]};C(e.answers),r.push(e)}else e--}s.response=r}catch(a){s.error=a}finally{s.fetching=!1}}})}const j=(e,t)=>{if(e<t)throw"length cannot be greater than the numbers to generate";if(1===t)return[Math.floor(Math.random()*e)];const s={};for(;Object.keys(s).length<=t;){const t=Math.floor(Math.random()*e);null==s[t]&&(s[t]=t)}return Object.keys(s)};function C(e){let t,s=e.length;for(;s>0;)t=Q(s),A(e,t,--s)}const Q=e=>Math.floor(Math.random()*e);function A(e,t,s){let a=e[t];return e[t]=e[s],e[s]=a,e}const q={setup(){const e=d(0),t=d(0),s=d(-1),a=d(-1),n=d(0),r=d(!1),o=i({currentQuestionIndex:t,correctAnswerIndex:s,selectedAnswerIndex:a,buttonsDisabled:r,completed:n,score:e}),{submitted:h,list:b,val:g,error:m,fetching:p}=function(){let e=i({list:[],error:null,fetching:!1});const t=d("");return c(l({submitted:async()=>{const{response:t,error:s,fetchData:a,fetching:n}=O("https://restcountries.eu/rest/v2/all",{});a(),e.list=t,e.error=s,e.fetching=n}},u(e)),{val:t})}();return f((()=>{h()})),{totalQuestions:10,optionsChars:{0:"A",1:"B",2:"C",3:"D"},state:o,answerCheck:function(o,l){a.value=l,r.value=!0,o.correct?e.value=e.value+1:n.value=-1;const c=b.value[t.value].answers.findIndex((e=>!0===e.correct));s.value=c},nextQuestion:function(){t.value=t.value+1,s.value=-1,a.value=-1,t.value>=10&&(n.value=1),r.value=!1},showResult:function(){n.value=1},reset:function(){h(),t.value=0,s.value=-1,a.value=-1,n.value=0,r.value=!1,e.value=0},questions:b,val:g,error:m,fetching:p}}},M={class:"d-flex flex-column h-100"},D={class:"flex-grow-1 d-grid"},S={class:"center-page my-card m-auto"},N=g("h1",{class:"display-6 fw-bold text-white mb-3"},"COUNTRY QUIZ",-1),P={class:"card border-radius-lg"},R={class:"card-body"},_=g("img",{src:"/devchallenges-frontend-quiz/assets/untitled.1f3b421a.svg",class:"img-fluid position-absolute banner-image"},null,-1),T={key:0},z=g("div",{class:"d-flex justify-content-center"},[g("div",{class:"spinner-border",role:"status"},[g("span",{class:"visually-hidden"},"Loading...")])],-1),J={key:1,class:"d-flex flex-column gap-3"},U={key:0},Y={class:"h4 text-primary fw-bolder"},$={class:"d-grid gap-4"},B={class:"my-auto ms-2"},E={class:"my-auto"},F={key:0,class:"flex-grow-1 d-flex flex-row-reverse"},L={class:"ms-auto"},W={key:2,style:{height:"250px"},class:"d-flex flex-column"},Z={class:"m-auto"},G=g("h1",{class:"display-3 fw-bolder text-center"},"Results",-1),H={class:"fw-normal text-secondary text-center"},K=k(" You got "),V=k(" correct answers "),X={class:"text-center mt-5"},ee=g("footer",{class:"footer mt-auto py-1 bg-light"},[g("div",{class:"d-flex justify-content-center gap-2"},[g("p",{class:"mb-0"},"created by raulshma"),g("a",{href:"https://github.com/raulshma",target:"__blank",rel:"noopener"},[g("i",{className:"bi bi-github"})]),g("a",{href:"https://devchallenges.io/portfolio/raulshma",target:"__blank",rel:"noopener"}," devChallenges.io ")])],-1);q.render=function(e,t,s,a,n,r){return h(),b("div",M,[g("div",D,[g("div",S,[N,g("div",P,[g("div",R,[_,a.fetching?(h(),b("div",T,[z])):m("",!0),!a.fetching&&a.questions.length>0&&(0===a.state.completed||-1===a.state.completed)?(h(),b("div",J,[g(p,{name:"fade"},{default:v((()=>[null!=a.questions[a.state.currentQuestionIndex].flag?(h(),b("div",U,[g("img",{src:a.questions[a.state.currentQuestionIndex].flag,class:"img-fluid zoom-in shadow",style:{height:"75px"},alt:"Question flag image here"},null,8,["src"])])):m("",!0)])),_:1}),g("h2",Y,w(a.questions[a.state.currentQuestionIndex].question),1),g("div",$,[(h(!0),b(y,null,x(a.questions[a.state.currentQuestionIndex].answers,((e,t)=>(h(),b("button",{key:t,onClick:s=>a.answerCheck(e,t),disabled:a.state.buttonsDisabled,class:`btn ${a.state.correctAnswerIndex===t?"btn-success":a.state.selectedAnswerIndex===t?"btn-danger":"btn-outline-primary"} d-inline-flex gap-4 fw-bold shadow-sm hover-orange border-radius-md p-3`},[g("p",B,w(a.optionsChars[t]),1),g("p",E,w(e.name),1),-1!==a.state.selectedAnswerIndex?(h(),b("span",F,[g("i",{class:"bi "+(a.state.correctAnswerIndex===t?"bi-check-circle":a.state.selectedAnswerIndex===t?"bi-x-circle":"")},null,2)])):m("",!0)],10,["onClick","disabled"])))),128))]),g("div",L,[-1!==a.state.selectedAnswerIndex&&-1!==a.state.completed&&9!==a.state.currentQuestionIndex?(h(),b("button",{key:0,class:"btn btn-warning fw-bold border-radius-md",onClick:t[1]||(t[1]=e=>a.nextQuestion())}," Next ")):m("",!0),-1===a.state.completed?(h(),b("button",{key:1,class:"btn btn-warning fw-bold border-radius-md",onClick:t[2]||(t[2]=e=>a.showResult())}," Result ")):m("",!0)])])):m("",!0),1===a.state.completed?(h(),b("div",W,[g("div",Z,[G,g("p",H,[K,g("span",{class:"fw-bolder fs-3 px-1 "+(a.state.score>0?"text-success":"text-danger")},w(a.state.score),3),V]),g("div",X,[g("button",{class:"\r\n                      shadow-sm\r\n                      btn-lg btn-outline-primary\r\n                      fw-bold\r\n                      fs-6\r\n                      border-radius-md\r\n                    ",onClick:t[3]||(t[3]=e=>a.reset())}," Try Again ")])])])):m("",!0)])])])]),ee])};I({setup:e=>(e,t)=>(h(),b(q))}).mount("#app");
