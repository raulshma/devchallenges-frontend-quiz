var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,c=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&o(e,s,t[s]);if(n)for(var s of n(t))a.call(t,s)&&o(e,s,t[s]);return e},l=(e,n)=>t(e,s(n));import{r as i,t as u,a as d,o as f,b as h,c as b,d as g,e as m,T as p,w,f as x,F as y,g as v,h as I,i as k}from"./vendor.61bb0c1b.js";function Q(e,t){const s=i({response:[],error:null,fetching:!1,cache:null});return l(c({},u(s)),{fetchData:async()=>{s.fetching=!0;try{const n=(await async function(e,t){if(localStorage.data){const{countries:e,time:t}=JSON.parse(localStorage.data);if((Date.now()-t)/1e3/60<4320)return e}const s=await fetch(e,t),n=await s.json();return localStorage.data=JSON.stringify({countries:n,time:Date.now()}),n}(e,t)).reduce(((e,t,s)=>(e[s]={name:t.name,flag:t.flag,capital:t.capital,region:t.region,subregion:t.subregion},e)),[]),r=new Map,a=[];for(let e=0;e<10;e++){const[t,s,o,c]=A(n.length,4),l=n[t];if(!l.capital){e--;continue}const i=Math.round(Math.random()),u=0===i?`'${l.capital}' is the capital of`:"Which country does this flag belong to";if(!1===r.has(l.name)){r.set(l.name);const e={question:u,country:l.name,flag:i?l.flag:null,answers:[{name:l.name,correct:!0},{name:n[s].name,correct:!1},{name:n[o].name,correct:!1},{name:n[c].name,correct:!1}]};O(e.answers),a.push(e)}else e--}s.response=a}catch(n){s.error=n}finally{s.fetching=!1}}})}const A=(e,t)=>{if(e<t)throw"length cannot be greater than the numbers to generate";if(1===t)return[Math.floor(Math.random()*e)];const s={};for(;Object.keys(s).length<=t;){const t=Math.floor(Math.random()*e);null==s[t]&&(s[t]=t)}return Object.keys(s)};function O(e){let t,s=e.length;for(;s>0;)t=j(s),C(e,t,--s)}const j=e=>Math.floor(Math.random()*e);function C(e,t,s){let n=e[t];return e[t]=e[s],e[s]=n,e}const R={setup(){const e=i({currentQuestionIndex:0,correctAnswerIndex:-1,selectedAnswerIndex:-1,buttonsDisabled:!1,showResult:!1,completed:0,score:0}),{submitted:t,list:s,val:n,error:r,fetching:a}=function(){let e=i({list:[],error:null,fetching:!1});const t=d("");return l(c({submitted:async()=>{const{response:t,error:s,fetchData:n,fetching:r}=Q("https://restcountries.eu/rest/v2/all",{});n(),e.list=t,e.error=s,e.fetching=r}},u(e)),{val:t})}();return f((()=>{t()})),{totalQuestions:10,optionsChars:{0:"A",1:"B",2:"C",3:"D"},state:e,answerCheck:function(t,n){e.selectedAnswerIndex=n,e.buttonsDisabled=!0,t.correct?e.score=e.score+1:(e.completed=-1,e.showResultButton=!0);const r=s.value[e.currentQuestionIndex].answers.findIndex((e=>!0===e.correct));e.correctAnswerIndex=r,9===e.currentQuestionIndex&&(e.showResultButton=!0)},nextQuestion:function(){9===e.currentQuestionIndex?(e.completed=1,e.showResultButton=!0):(e.currentQuestionIndex=e.currentQuestionIndex+1,e.correctAnswerIndex=-1,e.selectedAnswerIndex=-1,e.buttonsDisabled=!1)},showResult:function(){e.completed=1,e.showResultButton=!1},reset:function(){t(),e.currentQuestionIndex=0,e.correctAnswerIndex=-1,e.selectedAnswerIndex=-1,e.completed=0,e.buttonsDisabled=!1,e.score=0,e.showResult=!1},questions:s,val:n,error:r,fetching:a}}},D={class:"d-flex flex-column h-100"},q={class:"flex-grow-1 d-grid"},M={class:"center-page my-card m-auto"},B=g("h1",{class:"display-6 fw-bold text-white mb-3"},"COUNTRY QUIZ",-1),S={class:"card border-radius-lg"},N={class:"card-body"},P=g("img",{src:"/devchallenges-frontend-quiz/assets/untitled.1f3b421a.svg",class:"img-fluid position-absolute banner-image"},null,-1),_={key:0},T=g("div",{class:"d-flex justify-content-center"},[g("div",{class:"spinner-border",role:"status"},[g("span",{class:"visually-hidden"},"Loading...")])],-1),z={key:1,class:"d-flex flex-column gap-3"},J={key:0},U={class:"h4 text-primary fw-bolder"},Y={class:"d-grid gap-4"},$={class:"my-auto ms-2"},E={class:"my-auto"},F={key:0,class:"flex-grow-1 d-flex flex-row-reverse"},L={class:"ms-auto"},W={key:2,style:{height:"250px"},class:"d-flex flex-column"},Z={class:"m-auto"},G=g("h1",{class:"display-3 fw-bolder text-center"},"Results",-1),H={class:"fw-normal text-secondary text-center"},K=I(" You got "),V=I(" correct answers "),X={class:"text-center mt-5"},ee=g("footer",{class:"footer mt-auto py-1 bg-light"},[g("div",{class:"d-flex justify-content-center gap-2"},[g("p",{class:"mb-0"},"created by raulshma"),g("a",{href:"https://github.com/raulshma",target:"__blank",rel:"noopener"},[g("i",{className:"bi bi-github"})]),g("a",{href:"https://devchallenges.io/portfolio/raulshma",target:"__blank",rel:"noopener"}," devChallenges.io ")])],-1);R.render=function(e,t,s,n,r,a){return h(),b("div",D,[g("div",q,[g("div",M,[B,g("div",S,[g("div",N,[P,n.fetching?(h(),b("div",_,[T])):m("",!0),!n.fetching&&n.questions.length>0&&(0===n.state.completed||-1===n.state.completed)?(h(),b("div",z,[g(p,{name:"fade"},{default:w((()=>[null!=n.questions[n.state.currentQuestionIndex].flag?(h(),b("div",J,[g("img",{src:n.questions[n.state.currentQuestionIndex].flag,class:"img-fluid zoom-in shadow",style:{height:"75px"},alt:"Question flag image here"},null,8,["src"])])):m("",!0)])),_:1}),g("h2",U,x(n.questions[n.state.currentQuestionIndex].question),1),g("div",Y,[(h(!0),b(y,null,v(n.questions[n.state.currentQuestionIndex].answers,((e,t)=>(h(),b("button",{key:t,onClick:s=>n.answerCheck(e,t),disabled:n.state.buttonsDisabled,class:`btn ${n.state.correctAnswerIndex===t?"btn-success":n.state.selectedAnswerIndex===t?"btn-danger":"btn-outline-primary"} d-inline-flex gap-4 fw-bold shadow-sm hover-orange border-radius-md p-3`},[g("p",$,x(n.optionsChars[t]),1),g("p",E,x(e.name),1),-1!==n.state.selectedAnswerIndex?(h(),b("span",F,[g("i",{class:"bi "+(n.state.correctAnswerIndex===t?"bi-check-circle":n.state.selectedAnswerIndex===t?"bi-x-circle":"")},null,2)])):m("",!0)],10,["onClick","disabled"])))),128))]),g("div",L,[-1!==n.state.selectedAnswerIndex&&-1!==n.state.completed&&9!==n.state.currentQuestionIndex?(h(),b("button",{key:0,class:"btn btn-warning fw-bold border-radius-md",onClick:t[1]||(t[1]=e=>n.nextQuestion())}," Next ")):m("",!0),n.state.showResultButton?(h(),b("button",{key:1,class:"btn btn-warning fw-bold border-radius-md",onClick:t[2]||(t[2]=e=>n.showResult())}," Result ")):m("",!0)])])):m("",!0),1===n.state.completed?(h(),b("div",W,[g("div",Z,[G,g("p",H,[K,g("span",{class:"fw-bolder fs-3 px-1 "+(n.state.score>0?"text-success":"text-danger")},x(n.state.score),3),V]),g("div",X,[g("button",{class:"\r\n                      shadow-sm\r\n                      btn-lg btn-outline-primary\r\n                      fw-bold\r\n                      fs-6\r\n                      border-radius-md\r\n                    ",onClick:t[3]||(t[3]=e=>n.reset())}," Try Again ")])])])):m("",!0)])])])]),ee])};k({setup:e=>(e,t)=>(h(),b(R))}).mount("#app");
